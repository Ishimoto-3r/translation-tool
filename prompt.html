<!doctype html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>単発プロンプト</title>

  <style>
    :root {
      --bg: #0b1020;
      --card: #111a33;
      --line: #22305f;
      --text: #e9eefc;
      --muted: #b7c2e6;
      --accent: #7aa2ff;
      --danger: #ff7a7a;
      --navbg: #374151;
      --navpill: rgba(255, 255, 255, .06);
      --navpillHover: rgba(255, 255, 255, .12);
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    /* ===== 上部ナビ：inspection.html と同一構造 ===== */
    .tool-nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: #374151;
      padding: 10px 16px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .12);
      display: flex;
      justify-content: center;
      gap: 14px;
      align-items: center;
      flex-wrap: wrap
    }

    .nav-groupbox {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      padding: 8px 10px;
      border: 1px solid rgba(255, 255, 255, .14);
      border-radius: 10px;
      background: rgba(255, 255, 255, .04)
    }

    .nav-heading {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      width: 100%;
      font-size: 12px;
      font-weight: 700;
      letter-spacing: .08em;
      color: rgba(243, 244, 246, .85)
    }

    .nav-links {
      display: flex;
      gap: 8px;
      align-items: center;
      flex-wrap: wrap
    }

    .tool-nav a {
      color: #f3f4f6;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 999px;
      background: rgba(255, 255, 255, .06)
    }

    .tool-nav a:hover {
      background: rgba(255, 255, 255, .12)
    }

    .tool-nav a.active {
      background: #172554;
      color: #fff
    }

    /* ===== 画面 ===== */
    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-top: 14px;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 14px;
    }

    .card h2 {
      margin: 0 0 10px;
      font-size: 16px;
    }

    .hint {
      color: var(--muted);
      font-size: 12px;
      line-height: 1.5;
    }

    textarea {
      width: 100%;
      min-height: 220px;
      resize: vertical;
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(0, 0, 0, .2);
      color: var(--text);
      padding: 12px;
      box-sizing: border-box;
    }

    button {
      border-radius: 12px;
      border: 1px solid var(--line);
      background: rgba(255, 255, 255, 0.02);
      color: var(--text);
      padding: 10px 12px;
      cursor: pointer;
    }

    button:hover {
      border-color: var(--accent);
    }

    button:disabled {
      opacity: .55;
      cursor: not-allowed;
    }

    .row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }

    .status {
      color: var(--muted);
      font-size: 12px;
    }

    .out {
      white-space: pre-wrap;
      background: rgba(0, 0, 0, .22);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 12px;
      min-height: 220px;
      overflow: auto;
    }

    /* ===== ラジオUI ===== */
    .opt-group {
      display: grid;
      gap: 10px;
      margin-top: 10px;
    }

    .opt-block {
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0, 0, 0, .12);
    }

    .opt-title {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 10px;
      margin: 0 0 8px;
    }

    .opt-title b {
      font-size: 13px;
    }

    .opt-title span {
      color: var(--muted);
      font-size: 12px;
    }

    .radio-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .radio {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 10px;
      border: 1px solid var(--line);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.02);
      user-select: none;
      cursor: pointer;
    }

    .radio:hover {
      border-color: var(--accent);
    }

    .dot {
      width: 16px;
      height: 16px;
      border-radius: 999px;
      border: 2px solid rgba(233, 238, 252, .65);
      display: grid;
      place-items: center;
      box-sizing: border-box;
      flex: 0 0 auto;
    }

    .dot::after {
      content: "";
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: transparent;
    }

    input[type="radio"] {
      display: none;
    }

    input[type="radio"]:checked+label .dot {
      border-color: var(--accent);
    }

    input[type="radio"]:checked+label .dot::after {
      background: var(--accent);
    }

    .radio small {
      color: var(--muted);
      font-size: 12px;
    }

    .disabled {
      opacity: .55;
      pointer-events: none;
    }

    .warn {
      margin-top: 8px;
      font-size: 12px;
      color: var(--danger);
    }

    /* ===== 画像 ===== */
    .drop {
      border: 1px dashed rgba(233, 238, 252, .35);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0, 0, 0, .10);
    }

    .drop.dragover {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(122, 162, 255, .15) inset;
    }

    .thumbs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }

    .thumbwrap {
      position: relative;
      width: 72px;
      height: 72px;
    }

    .thumb {
      width: 72px;
      height: 72px;
      border-radius: 12px;
      border: 1px solid var(--line);
      object-fit: cover;
      background: rgba(0, 0, 0, .2);
    }

    .thumbx {
      position: absolute;
      top: -8px;
      right: -8px;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(0, 0, 0, .6);
      color: var(--text);
      display: grid;
      place-items: center;
      cursor: pointer;
      font-size: 14px;
      line-height: 1;
    }

    .thumbx:hover {
      border-color: var(--accent);
    }

    .tiny {
      font-size: 12px;
      color: var(--muted);
    }

    @media (max-width: 980px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
  <link rel="stylesheet" href="/assets/css/navigation.css">
</head>

<body>
  <script src="/navigation.js" defer></script>

  <div class="wrap">
    <div class="grid">
      <section class="card">
        <h2>単発プロンプト</h2>
        <textarea id="prompt" placeholder="ここにプロンプトを入力してください。"></textarea>

        <div class="row" style="margin-top:10px;">
          <button id="runBtn">実行</button>
          <button id="clearBtn">クリア</button>
          <span class="status" id="status"></span>
        </div>

        <div class="hint" style="margin-top:8px;">
          ※ Ctrl + Enter で実行 / 単発実行（前回の回答は保持しません）
        </div>

        <!-- ★ここが消えていたので復活 -->
        <div class="opt-group">
          <div class="opt-block">
            <div class="opt-title">
              <b>モデル</b>
              <span>5.1=安定 / 5.2=複雑な指示に強い</span>
            </div>
            <div class="radio-row" id="modelGroup">
              <input id="m51" type="radio" name="model" value="gpt-5.1" checked>
              <label class="radio" for="m51"><span class="dot"></span>
                <div>GPT-5.1 <small>（既定）</small></div>
              </label>

              <input id="m52" type="radio" name="model" value="gpt-5.2">
              <label class="radio" for="m52"><span class="dot"></span>
                <div>GPT-5.2 <small>（高性能）</small></div>
              </label>
            </div>

            <div class="tiny" style="margin-top:8px;">
              GPT-5.1：安定・高速。通常業務向き / GPT-5.2：推論力が高く複雑な指示向き（やや遅い）
            </div>
          </div>

          <div class="opt-block" id="reasoningBlock">
            <div class="opt-title">
              <b>reasoning（思考量）</b>
              <span>高いほど精度↑ / 速度↓</span>
            </div>

            <div class="radio-row" id="reasoningGroup">
              <input id="rnone" type="radio" name="reasoning" value="none" checked>
              <label class="radio" for="rnone"><span class="dot"></span>none <small>（最速）</small></label>

              <input id="rlow" type="radio" name="reasoning" value="low">
              <label class="radio" for="rlow"><span class="dot"></span>low</label>

              <input id="rmed" type="radio" name="reasoning" value="medium">
              <label class="radio" for="rmed"><span class="dot"></span>medium</label>

              <input id="rhigh" type="radio" name="reasoning" value="high">
              <label class="radio" for="rhigh"><span class="dot"></span>high</label>

              <input id="rxhigh" type="radio" name="reasoning" value="xhigh">
              <label class="radio" for="rxhigh"><span class="dot"></span>xhigh <small>（最重）</small></label>
            </div>

            <div class="warn" id="reasoningWarn" style="display:none;">
              GPT-5.1 選択中は reasoning は無効（選択できません）
            </div>
          </div>

          <div class="opt-block">
            <div class="opt-title">
              <b>verbosity（出力量）</b>
              <span>low=結論 / high=詳述</span>
            </div>
            <div class="radio-row" id="verbosityGroup">
              <input id="vlow" type="radio" name="verbosity" value="low" checked>
              <label class="radio" for="vlow"><span class="dot"></span>low <small>（既定）</small></label>

              <input id="vmed" type="radio" name="verbosity" value="medium">
              <label class="radio" for="vmed"><span class="dot"></span>medium</label>

              <input id="vhigh" type="radio" name="verbosity" value="high">
              <label class="radio" for="vhigh"><span class="dot"></span>high</label>
            </div>
          </div>

          <div class="opt-block">
            <div class="opt-title">
              <b>画像</b>
              <span>ドラッグ&ドロップ / Ctrl+V</span>
            </div>

            <div id="dropZone" class="drop">
              <div class="tiny" id="imgCount">画像：0枚</div>
              <input id="imgPicker" type="file" accept="image/*" multiple style="display:none;">
              <div id="thumbs" class="thumbs"></div>
            </div>
          </div>
        </div>
      </section>

      <section class="card">
        <h2>出力（ストリーミング）</h2>
        <div id="output" class="out"></div>
      </section>
    </div>
  </div>

  <script src="/prompt.js" defer></script>
</body>

</html>